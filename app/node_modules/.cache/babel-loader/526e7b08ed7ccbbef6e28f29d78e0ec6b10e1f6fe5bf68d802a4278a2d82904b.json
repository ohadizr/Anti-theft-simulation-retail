{"ast":null,"code":"var _jsxFileName = \"/Users/ohad/Desktop/GitCollaborationDemo/supermarket/src/components/cart/CartRoutes.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useMemo } from \"react\"; // Importing useRef and useEffect hooks\nimport \"./CartRoutes.scss\";\nimport Customer from \".././cart/Customers/Customer\";\nimport Boundary from \".././cart/Map/Boundary\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartRoutes = () => {\n  _s();\n  const canvasRef = useRef(null);\n  const boundaries = useMemo(() => {\n    const boundaries = [];\n    return boundaries;\n  }, []);\n  const customer = useMemo(() => {\n    const customer = new Customer({\n      x: Boundary.width + Boundary.width / 2,\n      y: Boundary.height + Boundary.height / 2\n    }, {\n      x: 0,\n      y: 0\n    });\n    return customer;\n  }, []);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    //Draw boundaries\n    canvas.height = 400;\n    canvas.width = 400;\n    boundaries.forEach(boundary => {\n      boundary.draw(ctx);\n    });\n    customer.draw(ctx);\n    function animate() {\n      requestAnimationFrame(animate);\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      boundaries.forEach(boundary => {\n        boundary.draw(ctx);\n      });\n      customer.update();\n      customer.draw(ctx);\n    }\n    animate();\n  }, [boundaries]);\n  useEffect(() => {}, []);\n  const miniMap = [[\"-\", \"-\", \"-\", \"-\", \"-\", \"-\"], [\"-\", \" \", \" \", \" \", \" \", \"-\"], [\"-\", \" \", \"-\", \"-\", \" \", \"-\"], [\"-\", \" \", \" \", \" \", \" \", \"-\"], [\"-\", \"-\", \"-\", \"-\", \"-\", \"-\"]];\n  miniMap.forEach((row, i) => {\n    row.forEach((symbol, j) => {\n      switch (symbol) {\n        case \"-\":\n          boundaries.push(new Boundary({\n            x: Boundary.width * j,\n            y: Boundary.height * i\n          }));\n          break;\n      }\n    });\n\n    // const keys = {\n    //   w: {pressed: false}\n    // },{\n    //   a: {pressed: false}\n    // },{\n    //   s: {pressed: false}\n    // },{\n    //   d: {pressed: false}\n    // }\n\n    //   document.addEventListener(\"keydown\", ({ key }) => {\n    //     switch (key) {\n    //       case \"w\":\n    //         keys.w.pressed = true;\n    //         break;\n    //       case \"a\":\n    //         keys.a.pressed = true;\n    //         break;\n    //       case \"s\":\n    //         keys.s.pressed = true;\n    //         break;\n    //       case \"d\":\n    //         keys.d.pressed = true;\n    //         break;\n    //     }\n    //   });\n  });\n\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    className: \"canvas\",\n    ref: canvasRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 10\n  }, this);\n};\n_s(CartRoutes, \"Cds5Zy0J8758vVRvIUNZ7km6mcs=\");\n_c = CartRoutes;\nexport default CartRoutes;\nvar _c;\n$RefreshReg$(_c, \"CartRoutes\");","map":{"version":3,"names":["React","useRef","useEffect","useMemo","Customer","Boundary","jsxDEV","_jsxDEV","CartRoutes","_s","canvasRef","boundaries","customer","x","width","y","height","canvas","current","ctx","getContext","forEach","boundary","draw","animate","requestAnimationFrame","clearRect","update","miniMap","row","i","symbol","j","push","className","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ohad/Desktop/GitCollaborationDemo/supermarket/src/components/cart/CartRoutes.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState, useMemo } from \"react\"; // Importing useRef and useEffect hooks\nimport \"./CartRoutes.scss\";\nimport  Customer  from \".././cart/Customers/Customer\";\nimport Boundary from \".././cart/Map/Boundary\";\n\ninterface RoutesProps {}\nconst CartRoutes: React.FC<RoutesProps> = () => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  const boundaries = useMemo(() => {\n    const boundaries: Boundary[] = [];\n    return boundaries;\n  }, []);\n  const customer = useMemo(() => {\n    const customer: Customer = new Customer(\n      {\n        x: Boundary.width + Boundary.width / 2,\n        y: Boundary.height + Boundary.height / 2,\n      },\n      { x: 0, y: 0 }\n    );\n    return customer;\n  }, []);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas!.getContext(\"2d\");\n    //Draw boundaries\n    canvas!.height = 400;\n    canvas!.width = 400;\n    boundaries.forEach((boundary) => {\n      boundary.draw(ctx);\n\n    });\n    customer.draw(ctx);\n    function animate() {\n      requestAnimationFrame(animate);\n      ctx!.clearRect(0, 0, canvas!.width, canvas!.height);\n      boundaries.forEach((boundary) => {\n        boundary.draw(ctx);\n      }\n      );\n      customer.update();\n      customer.draw(ctx);\n      \n      \n    }\n    animate();\n\n  }, [boundaries]);\n  useEffect(() => {}, []);\n\n  const miniMap = [\n    [\"-\", \"-\", \"-\", \"-\", \"-\", \"-\"],\n    [\"-\", \" \", \" \", \" \", \" \", \"-\"],\n    [\"-\", \" \", \"-\", \"-\", \" \", \"-\"],\n    [\"-\", \" \", \" \", \" \", \" \", \"-\"],\n    [\"-\", \"-\", \"-\", \"-\", \"-\", \"-\"],\n  ];\n\n  miniMap.forEach((row, i) => {\n    row.forEach((symbol, j) => {\n      switch (symbol) {\n        case \"-\":\n          boundaries.push(\n            new Boundary({\n              x: Boundary.width * j,\n              y: Boundary.height * i,\n            })\n          );\n          break;\n      }\n    });\n\n    // const keys = {\n    //   w: {pressed: false}\n    // },{\n    //   a: {pressed: false}\n    // },{\n    //   s: {pressed: false}\n    // },{\n    //   d: {pressed: false}\n    // }\n\n    \n  //   document.addEventListener(\"keydown\", ({ key }) => {\n  //     switch (key) {\n  //       case \"w\":\n  //         keys.w.pressed = true;\n  //         break;\n  //       case \"a\":\n  //         keys.a.pressed = true;\n  //         break;\n  //       case \"s\":\n  //         keys.s.pressed = true;\n  //         break;\n  //       case \"d\":\n  //         keys.d.pressed = true;\n  //         break;\n  //     }\n  //   });\n  });\n  \n  return <canvas className=\"canvas\" ref={canvasRef}></canvas>;\n};\n\nexport default CartRoutes;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}