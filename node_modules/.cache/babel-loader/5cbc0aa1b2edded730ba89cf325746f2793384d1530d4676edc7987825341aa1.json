{"ast":null,"code":"export default class Customer {\n  constructor(position, velocity) {\n    let radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n    let onStart = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    let useCart = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    let startTime = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n    let currentIndex = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0;\n    this.position = position;\n    this.velocity = velocity;\n    this.radius = radius;\n    this.onStart = onStart;\n    this.useCart = useCart;\n    this.startTime = startTime;\n    this.currentIndex = currentIndex;\n    this.draw = ctx => {\n      ctx.beginPath();\n      if (this.onStart) {\n        this.position.x = 20;\n        this.position.y = 320;\n        this.onStart = false;\n      }\n      ctx.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2);\n      ctx.fillStyle = \"blue\";\n      ctx.fill();\n      ctx.closePath();\n    };\n    this.pullCart = () => {\n      this.useCart = true;\n      this.radius = 15;\n    };\n    this.position = position;\n    this.velocity = velocity;\n    this.radius = 10;\n    this.onStart = true;\n    this.useCart = false;\n    this.startTime = 0;\n    this.currentIndex = 0;\n  }\n  moveUp() {\n    this.velocity.y = -1;\n  }\n  moveDown() {\n    this.velocity.y = 1;\n  }\n  moveLeft() {\n    this.velocity.x = -1;\n  }\n  moveRight() {\n    this.velocity.x = 1;\n  }\n  stopMovingVertical() {\n    this.velocity.y = 0;\n  }\n  stopMovingHorizontal() {\n    this.velocity.x = 0;\n  }\n  autoMovement() {\n    console.log(\"autoMovement\");\n\n    //   let steps = [\n    //     {\n    //         \"direction\": \"\",\n    //         \"time\": 1681839927785,\n    //         \"y\": 30,\n    //         \"x\": 30\n    //     },\n    //     {\n    //         \"direction\": \"right\",\n    //         \"time\": 1681839929176,\n    //         \"y\": 320,\n    //         \"x\": 20\n    //     },\n    //     {\n    //         \"direction\": \"stop\",\n    //         \"time\": 1681839930670,\n    //         \"y\": 320,\n    //         \"x\": 109\n    //     },\n    //     {\n    //         \"direction\": \"up\",\n    //         \"time\": 1681839932277,\n    //         \"y\": 320,\n    //         \"x\": 109\n    //     },\n    //     {\n    //         \"direction\": \"stop\",\n    //         \"time\": 1681839932824,\n    //         \"y\": 287,\n    //         \"x\": 109\n    //     },\n    //     {\n    //         \"direction\": \"right\",\n    //         \"time\": 1681839933400,\n    //         \"y\": 287,\n    //         \"x\": 109\n    //     },\n    //     {\n    //         \"direction\": \"stop\",\n    //         \"time\": 1681839934911,\n    //         \"y\": 287,\n    //         \"x\": 200\n    //     },\n    //     {\n    //         \"direction\": \"up\",\n    //         \"time\": 1681839935409,\n    //         \"y\": 287,\n    //         \"x\": 200\n    //     },\n    //     {\n    //         \"direction\": \"stop\",\n    //         \"time\": 1681839936176,\n    //         \"y\": 268,\n    //         \"x\": 200\n    //     },\n    //     {\n    //         \"direction\": \"right\",\n    //         \"time\": 1681839936570,\n    //         \"y\": 268,\n    //         \"x\": 200\n    //     },\n    //     {\n    //         \"direction\": \"stop\",\n    //         \"time\": 1681839936668,\n    //         \"y\": 268,\n    //         \"x\": 206\n    //     },\n    //     {\n    //         \"direction\": \"up\",\n    //         \"time\": 1681839937595,\n    //         \"y\": 268,\n    //         \"x\": 206\n    //     },\n    //     {\n    //         \"direction\": \"stop\",\n    //         \"time\": 1681839939480,\n    //         \"y\": 155,\n    //         \"x\": 206\n    //     },\n    //     {\n    //         \"direction\": \"left\",\n    //         \"time\": 1681839939894,\n    //         \"y\": 155,\n    //         \"x\": 206\n    //     },\n    //     {\n    //         \"direction\": \"stop\",\n    //         \"time\": 1681839942029,\n    //         \"y\": 155,\n    //         \"x\": 78\n    //     },\n    //     {\n    //         \"direction\": \"up\",\n    //         \"time\": 1681839942170,\n    //         \"y\": 155,\n    //         \"x\": 78\n    //     },\n    //     {\n    //         \"direction\": \"stop\",\n    //         \"time\": 1681839943083,\n    //         \"y\": 100,\n    //         \"x\": 78\n    //     },\n    //     {\n    //         \"direction\": \"left\",\n    //         \"time\": 1681839943144,\n    //         \"y\": 100,\n    //         \"x\": 78\n    //     },\n    //     {\n    //         \"direction\": \"stop\",\n    //         \"time\": 1681839943667,\n    //         \"y\": 100,\n    //         \"x\": 47\n    //     },\n    //     {\n    //         \"direction\": \"end\",\n    //         \"time\": 1681839944364,\n    //         \"y\": 100,\n    //         \"x\": 47\n    //     }\n    // ] \n    let steps = [{\n      \"direction\": \"\",\n      \"time\": 1681840461827,\n      \"y\": 30,\n      \"x\": 30\n    }, {\n      \"direction\": \"right\",\n      \"time\": 1681840463464,\n      \"y\": 320,\n      \"x\": 20\n    }, {\n      \"direction\": \"stop\",\n      \"time\": 1681840466179,\n      \"y\": 320,\n      \"x\": 63\n    }];\n    //make a recursive function that will move the customer to the next step\n\n    function moveCustomer(steps, index, customer) {\n      if (index < steps.length) {\n        let step = steps[index];\n        if (step.direction === \"right\") {\n          customer.moveRight();\n        } else if (step.direction === \"left\") {\n          customer.moveLeft();\n        } else if (step.direction === \"up\") {\n          customer.moveUp();\n        } else if (step.direction === \"down\") {\n          customer.moveDown();\n        } else if (step.direction === \"stop\") {\n          customer.stopMovingHorizontal();\n          customer.stopMovingVertical();\n        } else if (step.direction === \"end\") {\n          customer.stopMovingHorizontal();\n          customer.stopMovingVertical();\n          return;\n        }\n        setTimeout(() => {\n          moveCustomer(steps, index + 1, customer);\n        }, step.time - steps[index - 1].time);\n      }\n    }\n    moveCustomer(steps, 1, this);\n  }\n  update(ctx) {\n    this.draw(ctx);\n    this.position.x += this.velocity.x;\n    this.position.y += this.velocity.y;\n  }\n}\nCustomer.radius = 10;","map":{"version":3,"names":["Customer","constructor","position","velocity","radius","arguments","length","undefined","onStart","useCart","startTime","currentIndex","draw","ctx","beginPath","x","y","arc","Math","PI","fillStyle","fill","closePath","pullCart","moveUp","moveDown","moveLeft","moveRight","stopMovingVertical","stopMovingHorizontal","autoMovement","console","log","steps","moveCustomer","index","customer","step","direction","setTimeout","time","update"],"sources":["/Users/ohad/Desktop/GitCollaborationDemo/supermarket/src/components/cart/Customers/Customer.tsx"],"sourcesContent":["type Velocity = {\n    x: number;\n    y: number;\n  };\n  type Position = {\n    x: number;\n    y: number;\n  };\n\nexport default   class Customer {\n    constructor(\n      public position: Position,\n      public velocity: Velocity,\n      public radius: number = 10,\n      public onStart: boolean = true,\n      public useCart: boolean = false,\n      public startTime: number = 0,\n      public currentIndex: number = 0\n    ) {\n      this.position = position;\n      this.velocity = velocity;\n      this.radius = 10;\n      this.onStart = true;\n      this.useCart = false;\n      this.startTime = 0;\n      this.currentIndex = 0;\n    }\n    static radius = 10;\n\n    moveUp() {\n      this.velocity.y = -1;\n    }\n    moveDown() {\n      this.velocity.y = 1;\n    }\n    moveLeft() {\n      this.velocity.x = -1;\n    }\n    moveRight() {\n      this.velocity.x = 1;\n    }\n    stopMovingVertical() {\n      this.velocity.y = 0;\n    }\n    stopMovingHorizontal() {\n      this.velocity.x = 0;\n    }\n\n    autoMovement() {\n      console.log(\"autoMovement\");\n      \n  //   let steps = [\n  //     {\n  //         \"direction\": \"\",\n  //         \"time\": 1681839927785,\n  //         \"y\": 30,\n  //         \"x\": 30\n  //     },\n  //     {\n  //         \"direction\": \"right\",\n  //         \"time\": 1681839929176,\n  //         \"y\": 320,\n  //         \"x\": 20\n  //     },\n  //     {\n  //         \"direction\": \"stop\",\n  //         \"time\": 1681839930670,\n  //         \"y\": 320,\n  //         \"x\": 109\n  //     },\n  //     {\n  //         \"direction\": \"up\",\n  //         \"time\": 1681839932277,\n  //         \"y\": 320,\n  //         \"x\": 109\n  //     },\n  //     {\n  //         \"direction\": \"stop\",\n  //         \"time\": 1681839932824,\n  //         \"y\": 287,\n  //         \"x\": 109\n  //     },\n  //     {\n  //         \"direction\": \"right\",\n  //         \"time\": 1681839933400,\n  //         \"y\": 287,\n  //         \"x\": 109\n  //     },\n  //     {\n  //         \"direction\": \"stop\",\n  //         \"time\": 1681839934911,\n  //         \"y\": 287,\n  //         \"x\": 200\n  //     },\n  //     {\n  //         \"direction\": \"up\",\n  //         \"time\": 1681839935409,\n  //         \"y\": 287,\n  //         \"x\": 200\n  //     },\n  //     {\n  //         \"direction\": \"stop\",\n  //         \"time\": 1681839936176,\n  //         \"y\": 268,\n  //         \"x\": 200\n  //     },\n  //     {\n  //         \"direction\": \"right\",\n  //         \"time\": 1681839936570,\n  //         \"y\": 268,\n  //         \"x\": 200\n  //     },\n  //     {\n  //         \"direction\": \"stop\",\n  //         \"time\": 1681839936668,\n  //         \"y\": 268,\n  //         \"x\": 206\n  //     },\n  //     {\n  //         \"direction\": \"up\",\n  //         \"time\": 1681839937595,\n  //         \"y\": 268,\n  //         \"x\": 206\n  //     },\n  //     {\n  //         \"direction\": \"stop\",\n  //         \"time\": 1681839939480,\n  //         \"y\": 155,\n  //         \"x\": 206\n  //     },\n  //     {\n  //         \"direction\": \"left\",\n  //         \"time\": 1681839939894,\n  //         \"y\": 155,\n  //         \"x\": 206\n  //     },\n  //     {\n  //         \"direction\": \"stop\",\n  //         \"time\": 1681839942029,\n  //         \"y\": 155,\n  //         \"x\": 78\n  //     },\n  //     {\n  //         \"direction\": \"up\",\n  //         \"time\": 1681839942170,\n  //         \"y\": 155,\n  //         \"x\": 78\n  //     },\n  //     {\n  //         \"direction\": \"stop\",\n  //         \"time\": 1681839943083,\n  //         \"y\": 100,\n  //         \"x\": 78\n  //     },\n  //     {\n  //         \"direction\": \"left\",\n  //         \"time\": 1681839943144,\n  //         \"y\": 100,\n  //         \"x\": 78\n  //     },\n  //     {\n  //         \"direction\": \"stop\",\n  //         \"time\": 1681839943667,\n  //         \"y\": 100,\n  //         \"x\": 47\n  //     },\n  //     {\n  //         \"direction\": \"end\",\n  //         \"time\": 1681839944364,\n  //         \"y\": 100,\n  //         \"x\": 47\n  //     }\n  // ] \n  let steps =[\n    {\n        \"direction\": \"\",\n        \"time\": 1681840461827,\n        \"y\": 30,\n        \"x\": 30\n    },\n    {\n        \"direction\": \"right\",\n        \"time\": 1681840463464,\n        \"y\": 320,\n        \"x\": 20\n    },\n    {\n        \"direction\": \"stop\",\n        \"time\": 1681840466179,\n        \"y\": 320,\n        \"x\": 63\n    },\n]\n  //make a recursive function that will move the customer to the next step\n\n  function moveCustomer(steps: any, index: number, customer: Customer) {\n    if (index < steps.length) {\n      let step = steps[index];\n      if (step.direction === \"right\") {\n        customer.moveRight();\n      } else if (step.direction === \"left\") {\n        customer.moveLeft();\n      } else if (step.direction === \"up\") {\n        customer.moveUp();\n      } else if (step.direction === \"down\") {\n        customer.moveDown();\n      } else if (step.direction === \"stop\") {\n        customer.stopMovingHorizontal();\n        customer.stopMovingVertical();\n      } else if (step.direction === \"end\") {\n        customer.stopMovingHorizontal();\n        customer.stopMovingVertical();\n        return;\n      }\n      setTimeout(() => {\n        moveCustomer(steps, index + 1, customer);\n      }, step.time - steps[index - 1].time);\n    }\n  }\n  moveCustomer(steps, 1, this);\n    }\n\n\n\n\n\n\n\n    draw = (ctx: CanvasRenderingContext2D | null) => {\n      ctx!.beginPath();\n      if (this.onStart) {\n        this.position.x = 20;\n        this.position.y = 320;\n        this.onStart = false;\n      }\n      ctx!.arc(\n        this.position.x,\n        this.position.y,\n        this.radius,\n        0,\n        Math.PI * 2\n      )\n      ctx!.fillStyle = \"blue\";\n      ctx!.fill();\n      ctx!.closePath();\n      \n    };\n    update(ctx: CanvasRenderingContext2D | null) {\n      this.draw(ctx);\n      this.position.x += this.velocity.x;  \n      this.position.y += this.velocity.y;\n    }\n\n    pullCart = () => {\n      this.useCart = true;\n      this.radius = 15;\n      \n      }\n  }"],"mappings":"AASA,eAAiB,MAAMA,QAAQ,CAAC;EAC5BC,WAAWA,CACFC,QAAkB,EAClBC,QAAkB,EAMzB;IAAA,IALOC,MAAc,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;IAAA,IACnBG,OAAgB,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IAAA,IACvBI,OAAgB,GAAAJ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;IAAA,IACxBK,SAAiB,GAAAL,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;IAAA,IACrBM,YAAoB,GAAAN,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;IAAA,KANxBH,QAAkB,GAAlBA,QAAkB;IAAA,KAClBC,QAAkB,GAAlBA,QAAkB;IAAA,KAClBC,MAAc,GAAdA,MAAc;IAAA,KACdI,OAAgB,GAAhBA,OAAgB;IAAA,KAChBC,OAAgB,GAAhBA,OAAgB;IAAA,KAChBC,SAAiB,GAAjBA,SAAiB;IAAA,KACjBC,YAAoB,GAApBA,YAAoB;IAAA,KAmN7BC,IAAI,GAAIC,GAAoC,IAAK;MAC/CA,GAAG,CAAEC,SAAS,EAAE;MAChB,IAAI,IAAI,CAACN,OAAO,EAAE;QAChB,IAAI,CAACN,QAAQ,CAACa,CAAC,GAAG,EAAE;QACpB,IAAI,CAACb,QAAQ,CAACc,CAAC,GAAG,GAAG;QACrB,IAAI,CAACR,OAAO,GAAG,KAAK;MACtB;MACAK,GAAG,CAAEI,GAAG,CACN,IAAI,CAACf,QAAQ,CAACa,CAAC,EACf,IAAI,CAACb,QAAQ,CAACc,CAAC,EACf,IAAI,CAACZ,MAAM,EACX,CAAC,EACDc,IAAI,CAACC,EAAE,GAAG,CAAC,CACZ;MACDN,GAAG,CAAEO,SAAS,GAAG,MAAM;MACvBP,GAAG,CAAEQ,IAAI,EAAE;MACXR,GAAG,CAAES,SAAS,EAAE;IAElB,CAAC;IAAA,KAODC,QAAQ,GAAG,MAAM;MACf,IAAI,CAACd,OAAO,GAAG,IAAI;MACnB,IAAI,CAACL,MAAM,GAAG,EAAE;IAEhB,CAAC;IA9OD,IAAI,CAACF,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACC,MAAM,GAAG,EAAE;IAChB,IAAI,CAACI,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,OAAO,GAAG,KAAK;IACpB,IAAI,CAACC,SAAS,GAAG,CAAC;IAClB,IAAI,CAACC,YAAY,GAAG,CAAC;EACvB;EAGAa,MAAMA,CAAA,EAAG;IACP,IAAI,CAACrB,QAAQ,CAACa,CAAC,GAAG,CAAC,CAAC;EACtB;EACAS,QAAQA,CAAA,EAAG;IACT,IAAI,CAACtB,QAAQ,CAACa,CAAC,GAAG,CAAC;EACrB;EACAU,QAAQA,CAAA,EAAG;IACT,IAAI,CAACvB,QAAQ,CAACY,CAAC,GAAG,CAAC,CAAC;EACtB;EACAY,SAASA,CAAA,EAAG;IACV,IAAI,CAACxB,QAAQ,CAACY,CAAC,GAAG,CAAC;EACrB;EACAa,kBAAkBA,CAAA,EAAG;IACnB,IAAI,CAACzB,QAAQ,CAACa,CAAC,GAAG,CAAC;EACrB;EACAa,oBAAoBA,CAAA,EAAG;IACrB,IAAI,CAAC1B,QAAQ,CAACY,CAAC,GAAG,CAAC;EACrB;EAEAe,YAAYA,CAAA,EAAG;IACbC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;;IAE/B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAIC,KAAK,GAAE,CACT;MACI,WAAW,EAAE,EAAE;MACf,MAAM,EAAE,aAAa;MACrB,GAAG,EAAE,EAAE;MACP,GAAG,EAAE;IACT,CAAC,EACD;MACI,WAAW,EAAE,OAAO;MACpB,MAAM,EAAE,aAAa;MACrB,GAAG,EAAE,GAAG;MACR,GAAG,EAAE;IACT,CAAC,EACD;MACI,WAAW,EAAE,MAAM;MACnB,MAAM,EAAE,aAAa;MACrB,GAAG,EAAE,GAAG;MACR,GAAG,EAAE;IACT,CAAC,CACJ;IACC;;IAEA,SAASC,YAAYA,CAACD,KAAU,EAAEE,KAAa,EAAEC,QAAkB,EAAE;MACnE,IAAID,KAAK,GAAGF,KAAK,CAAC3B,MAAM,EAAE;QACxB,IAAI+B,IAAI,GAAGJ,KAAK,CAACE,KAAK,CAAC;QACvB,IAAIE,IAAI,CAACC,SAAS,KAAK,OAAO,EAAE;UAC9BF,QAAQ,CAACT,SAAS,EAAE;QACtB,CAAC,MAAM,IAAIU,IAAI,CAACC,SAAS,KAAK,MAAM,EAAE;UACpCF,QAAQ,CAACV,QAAQ,EAAE;QACrB,CAAC,MAAM,IAAIW,IAAI,CAACC,SAAS,KAAK,IAAI,EAAE;UAClCF,QAAQ,CAACZ,MAAM,EAAE;QACnB,CAAC,MAAM,IAAIa,IAAI,CAACC,SAAS,KAAK,MAAM,EAAE;UACpCF,QAAQ,CAACX,QAAQ,EAAE;QACrB,CAAC,MAAM,IAAIY,IAAI,CAACC,SAAS,KAAK,MAAM,EAAE;UACpCF,QAAQ,CAACP,oBAAoB,EAAE;UAC/BO,QAAQ,CAACR,kBAAkB,EAAE;QAC/B,CAAC,MAAM,IAAIS,IAAI,CAACC,SAAS,KAAK,KAAK,EAAE;UACnCF,QAAQ,CAACP,oBAAoB,EAAE;UAC/BO,QAAQ,CAACR,kBAAkB,EAAE;UAC7B;QACF;QACAW,UAAU,CAAC,MAAM;UACfL,YAAY,CAACD,KAAK,EAAEE,KAAK,GAAG,CAAC,EAAEC,QAAQ,CAAC;QAC1C,CAAC,EAAEC,IAAI,CAACG,IAAI,GAAGP,KAAK,CAACE,KAAK,GAAG,CAAC,CAAC,CAACK,IAAI,CAAC;MACvC;IACF;IACAN,YAAY,CAACD,KAAK,EAAE,CAAC,EAAE,IAAI,CAAC;EAC1B;EA2BAQ,MAAMA,CAAC5B,GAAoC,EAAE;IAC3C,IAAI,CAACD,IAAI,CAACC,GAAG,CAAC;IACd,IAAI,CAACX,QAAQ,CAACa,CAAC,IAAI,IAAI,CAACZ,QAAQ,CAACY,CAAC;IAClC,IAAI,CAACb,QAAQ,CAACc,CAAC,IAAI,IAAI,CAACb,QAAQ,CAACa,CAAC;EACpC;AAOF;AAzPqBhB,QAAQ,CAkBpBI,MAAM,GAAG,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}