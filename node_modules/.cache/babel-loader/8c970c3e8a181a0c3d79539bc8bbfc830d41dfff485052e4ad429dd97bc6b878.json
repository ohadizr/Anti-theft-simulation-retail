{"ast":null,"code":"var _jsxFileName = \"/Users/ohad/Desktop/GitCollaborationDemo/supermarket/src/components/cart/CartRoutes.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useMemo } from \"react\"; // Importing useRef and useEffect hooks\nimport \"./CartRoutes.scss\";\nimport Customer from \".././cart/Customers/Customer\";\nimport Boundary from \".././cart/Map/Boundary\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartRoutes = () => {\n  _s();\n  const canvasRef = useRef(null);\n  const boundaries = useMemo(() => {\n    const boundaries = [];\n    return boundaries;\n  }, []);\n  const customer = useMemo(() => {\n    const customer = new Customer({\n      x: Boundary.width + Boundary.width / 2,\n      y: Boundary.height + Boundary.height / 2\n    }, {\n      x: 0,\n      y: 0\n    });\n    return customer;\n  }, []);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    canvas.height = 400;\n    canvas.width = 400;\n    boundaries.forEach(boundary => {\n      boundary.draw(ctx);\n    });\n    function animate() {\n      requestAnimationFrame(animate);\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      boundaries.forEach(boundary => {\n        boundary.draw(ctx);\n      });\n      customer.update(ctx);\n    }\n    animate();\n  }, [boundaries, customer]);\n  const miniMap = [[\"-\", \"-\", \"-\", \"-\", \"-\", \"-\"], [\"-\", \" \", \" \", \" \", \" \", \"-\"], [\"-\", \" \", \"-\", \"-\", \" \", \"-\"], [\"-\", \" \", \" \", \" \", \" \", \"-\"], [\"-\", \"-\", \"-\", \"-\", \"-\", \"-\"]];\n  miniMap.forEach((row, i) => {\n    row.forEach((symbol, j) => {\n      switch (symbol) {\n        case \"-\":\n          boundaries.push(new Boundary({\n            x: Boundary.width * j,\n            y: Boundary.height * i\n          }));\n          break;\n      }\n    });\n    const keys = {\n      w: {\n        pressed: false\n      },\n      a: {\n        pressed: false\n      },\n      s: {\n        pressed: false\n      },\n      d: {\n        pressed: false\n      }\n    };\n    document.addEventListener(\"keyup\", _ref => {\n      let {\n        key\n      } = _ref;\n      switch (key) {\n        case \"w\":\n          keys.w.pressed = false;\n          break;\n        case \"a\":\n          keys.a.pressed = false;\n          break;\n        case \"s\":\n          keys.s.pressed = false;\n          break;\n        case \"d\":\n          keys.d.pressed = false;\n          break;\n      }\n    });\n    document.addEventListener(\"keydown\", _ref2 => {\n      let {\n        key\n      } = _ref2;\n      switch (key) {\n        case \"w\":\n          keys.w.pressed = true;\n          customer.velocity.y = -5;\n          console.log(\"move up\" + customer.velocity.y);\n          break;\n        case \"a\":\n          keys.a.pressed = true;\n          customer.velocity.x = -5;\n          console.log(\"move left\" + customer.velocity.x);\n          break;\n        case \"s\":\n          keys.s.pressed = true;\n          customer.velocity.y = 5;\n          console.log(\"move down\" + customer.velocity.y);\n          break;\n        case \"d\":\n          keys.d.pressed = true;\n          customer.velocity.x = 5;\n          console.log(\"move right\" + customer.velocity.x);\n          break;\n      }\n    });\n    document.addEventListener(\"keyup\", _ref3 => {\n      let {\n        key\n      } = _ref3;\n      switch (key) {\n        case \"w\":\n          keys.w.pressed = false;\n          customer.velocity.y = 0;\n          break;\n        case \"a\":\n          keys.a.pressed = false;\n          customer.velocity.x = 0;\n          break;\n        case \"s\":\n          keys.s.pressed = false;\n          customer.velocity.y = 0;\n          break;\n        case \"d\":\n          keys.d.pressed = false;\n          customer.velocity.x = 0;\n          break;\n      }\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    className: \"canvas\",\n    ref: canvasRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 10\n  }, this);\n};\n_s(CartRoutes, \"4hApxi8tlcu/y6+K640Uo+NhXls=\");\n_c = CartRoutes;\nexport default CartRoutes;\nvar _c;\n$RefreshReg$(_c, \"CartRoutes\");","map":{"version":3,"names":["React","useRef","useEffect","useMemo","Customer","Boundary","jsxDEV","_jsxDEV","CartRoutes","_s","canvasRef","boundaries","customer","x","width","y","height","canvas","current","ctx","getContext","forEach","boundary","draw","animate","requestAnimationFrame","clearRect","update","miniMap","row","i","symbol","j","push","keys","w","pressed","a","s","d","document","addEventListener","_ref","key","_ref2","velocity","console","log","_ref3","className","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ohad/Desktop/GitCollaborationDemo/supermarket/src/components/cart/CartRoutes.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState, useMemo } from \"react\"; // Importing useRef and useEffect hooks\nimport \"./CartRoutes.scss\";\nimport  Customer  from \".././cart/Customers/Customer\";\nimport Boundary from \".././cart/Map/Boundary\";\n\ninterface RoutesProps {}\nconst CartRoutes: React.FC<RoutesProps> = () => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  const boundaries = useMemo(() => {\n    const boundaries: Boundary[] = [];\n    return boundaries;\n  }, []);\n  const customer = useMemo(() => {\n    const customer: Customer = new Customer(\n      {\n        x: Boundary.width + Boundary.width / 2,\n        y: Boundary.height + Boundary.height / 2,\n      },\n      { x: 0, y: 0 }\n    );\n    return customer;\n  }, []);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas!.getContext(\"2d\");\n    canvas!.height = 400;\n    canvas!.width = 400;\n    boundaries.forEach((boundary) => {\n      boundary.draw(ctx);\n    });\n    \n    function animate() {\n      requestAnimationFrame(animate);\n      ctx!.clearRect(0, 0, canvas!.width, canvas!.height);\n      boundaries.forEach((boundary) => {\n        boundary.draw(ctx);\n      }\n      );\n     customer.update(ctx);\n    }\n    animate();\n\n\n  }, [boundaries, customer]);\n\n  const miniMap = [\n    [\"-\", \"-\", \"-\", \"-\", \"-\", \"-\"],\n    [\"-\", \" \", \" \", \" \", \" \", \"-\"],\n    [\"-\", \" \", \"-\", \"-\", \" \", \"-\"],\n    [\"-\", \" \", \" \", \" \", \" \", \"-\"],\n    [\"-\", \"-\", \"-\", \"-\", \"-\", \"-\"],\n  ];\n\n  miniMap.forEach((row, i) => {\n    row.forEach((symbol, j) => {\n      switch (symbol) {\n        case \"-\":\n          boundaries.push(\n            new Boundary({\n              x: Boundary.width * j,\n              y: Boundary.height * i,\n            })\n          );\n          break;\n      }\n    });\n\n    const keys = {\n      w: {pressed: false},\n      a: {pressed: false},\n      s: {pressed: false},\n      d: {pressed: false},\n    };\n    document.addEventListener(\"keyup\", ({ key }) => {\n      switch (key) {\n        case \"w\":\n          keys.w.pressed = false;\n          break;\n        case \"a\":\n          keys.a.pressed = false;\n          break;\n        case \"s\":\n          keys.s.pressed = false;\n          break;\n        case \"d\":\n          keys.d.pressed = false;\n          break;\n      }\n    });\n    document.addEventListener(\"keydown\", ({ key }) => {\n      switch (key) {\n        case \"w\":\n          keys.w.pressed = true;\n          customer.velocity.y = -5;\n          console.log(\"move up\" + customer.velocity.y);\n          \n          break;\n        case \"a\":\n          keys.a.pressed = true;\n          customer.velocity.x = -5;\n          console.log(\"move left\" + customer.velocity.x);\n          \n          break;\n        case \"s\":\n          keys.s.pressed = true;\n          customer.velocity.y = 5;\n          console.log(\"move down\" + customer.velocity.y);\n          break;\n        case \"d\":\n          keys.d.pressed = true;\n          customer.velocity.x = 5;\n          console.log(\"move right\" + customer.velocity.x);\n          break;\n      }\n    });\n\n    document.addEventListener(\"keyup\", ({ key }) => {\n      switch (key) {\n        case \"w\":\n          keys.w.pressed = false;\n          customer.velocity.y = 0;\n          break;\n        case \"a\":\n          keys.a.pressed = false;\n          customer.velocity.x = 0;\n          break;\n        case \"s\":\n          keys.s.pressed = false;\n          customer.velocity.y = 0;\n          break;\n        case \"d\":\n          keys.d.pressed = false;\n          customer.velocity.x = 0;\n          break;\n      }\n    });\n\n      \n    \n   \n  });\n    \n\n    \n    \n  \n  return <canvas className=\"canvas\" ref={canvasRef}></canvas>;\n};\n\nexport default CartRoutes;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}